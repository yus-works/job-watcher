{{ define "title" }}AYOOOOO{{ end }}

{{ define "card" }}
<div class="job-card">
	<h2><a href="{{ .URL }}">{{ .Title }}</a></h2>
	{{ with .Company }}<p><strong>Company:</strong> {{ . }}</p>{{ end }}
	<p><small>Posted: {{ .InsertedAt.Format "2006-01-02" }}</small></p>
</div>
{{ end }}

{{ define "content" }}
<div class="filters">
	<input
		type="text"
		name="search"
		placeholder="Filter jobsâ€¦"
		hx-get="/jobs"
		hx-target="#job-list"
		hx-trigger="keyup changed delay:300ms"
	/>
	<select
		name="sort"
		hx-get="/jobs"
		hx-target="#job-list"
		hx-trigger="change"
	>
		<option value="newest">Newest first</option>
		<option value="oldest">Oldest first</option>
		<option value="score">Highest score</option>
	</select>
</div>

<div id="job-list">
	{{ range . }}
		{{ template "card" . }}
	{{ else }}
		<p>No jobs found.</p>
	{{ end }}
</div>
{{ end }}

{{ define "home" }}
	{{ template "base" . }}
{{ end }}
